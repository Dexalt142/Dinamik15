(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{148:function(t,e,n){"use strict";n.r(e);n(12),n(29);var r=n(10),l=n(244),o=n(240),m=n(242),c=n(30),d={middleware:["authenticated","verified"],head:function(){return{title:"Dashboard | Payment - ".concat("Dinamik 15")}},components:{DashboardMenu:l.default,Card:o.default,FormInput:m.default},data:function(){return{pageLoading:!0,teamData:null,namaPengirim:null,buktiPembayaran:null,buktiPembayaranPreview:null,uploading:!1,errors:null}},methods:{fetchTeamData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("team/fetchTeamData");case 2:t.$store.getters["team/getTeamData"]&&(t.teamData=t.$store.getters["team/getTeamData"]),t.pageLoading=!1;case 4:case"end":return e.stop()}}),e)})))()},previewBuktiPembayaran:function(t){var e=this,n=t.target;if(this.errors=null,n.files&&n.files[0]){var r=new FileReader;this.buktiPembayaran=n.files[0],r.onload=function(t){e.buktiPembayaranPreview=t.target.result},r.readAsDataURL(n.files[0])}},removeBuktiPembayaran:function(){this.buktiPembayaran=null,this.buktiPembayaranPreview=null},uploadPayment:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.uploading=!0,t.errors=null,e.prev=2,n=new FormData,t.namaPengirim&&n.append("nama_pengirim",t.namaPengirim),n.append("bukti_pembayaran",t.buktiPembayaran,t.buktiPembayaran.name),e.next=8,t.$axios.post(c.a.API_ENDPOINT.PAYMENT.UPLOAD,n);case 8:return e.sent,e.next=11,t.$store.dispatch("team/fetchTeamData");case 11:t.teamData=t.$store.getters["team/getTeamData"],t.uploading=!1,e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),422===e.t0.response.status&&(t.errors=e.t0.response.data.error,t.errors.nama_pengirim||t.removeBuktiPembayaran()),t.uploading=!1;case 19:case"end":return e.stop()}}),e,null,[[2,15]])})))()}},mounted:function(){this.$store.dispatch("team/fetchTeamData"),this.fetchTeamData()}},v=n(25),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container main-container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("Card",{attrs:{color:"white"}},[t.pageLoading?n("div",{staticClass:"skeleton-wrapper"},[n("div",{staticClass:"skeleton title"}),t._v(" "),n("div",{staticClass:"skeleton content"}),t._v(" "),n("div",{staticClass:"skeleton content-50"}),t._v(" "),n("div",{staticClass:"skeleton content-75"})]):t._e(),t._v(" "),t.teamData&&!t.pageLoading?n("div",{staticClass:"user-dashboard"},[n("div",{staticClass:"header"},[n("div",{staticClass:"team-name"},[t._v(t._s(t.teamData.name))]),t._v(" "),n("div",{staticClass:"competition-name"},[t._v(t._s(t.teamData.competition.name))])]),t._v(" "),n("DashboardMenu"),t._v(" "),n("div",{staticClass:"content"},[t.teamData.payment?n("div",[0==t.teamData.payment.status_verifikasi?n("div",[n("h4",{staticClass:"text-center"},[t._v("\n                                    Status Pembayaran: "),n("span",{staticClass:"text-warning"},[t._v("Menunggu verifikasi")])]),t._v(" "),n("div",{staticClass:"w-50 mx-auto mt-4"},[n("p",{staticClass:"text-center"},[t._v("Pengirim: "+t._s(t.teamData.payment.nama_pengirim))]),t._v(" "),n("img",{staticClass:"img img-thumbnail",attrs:{src:"http://dinamik15.test/bukti_pembayaran/"+t.teamData.payment.file_name,alt:"bukti pembayaran"}})])]):1==t.teamData.payment.status_verifikasi?n("div",[n("h4",{staticClass:"text-center"},[t._v("\n                                    Status Pembayaran: "),n("span",{staticClass:"text-danger"},[t._v("Verifikasi gagal, silahkan upload ulang.")])]),t._v(" "),n("div",{staticClass:"row mt-4"},[n("div",{staticClass:"col-md-6 mx-auto"},[t.buktiPembayaran?n("div",{staticClass:"pembayaran-form"},[n("button",{staticClass:"btn btn-primary d-block mx-auto",attrs:{disabled:t.uploading},on:{click:t.uploadPayment}},[t._v("Unggah Bukti Pembayaran")]),t._v(" "),n("div",{staticClass:"form-group mt-2"},[n("label",{attrs:{for:""}},[t._v("Nama Pengirim")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.namaPengirim,expression:"namaPengirim"}],staticClass:"form-control",class:t.errors&&t.errors.nama_pengirim?"is-invalid":"",attrs:{type:"text"},domProps:{value:t.namaPengirim},on:{input:function(e){e.target.composing||(t.namaPengirim=e.target.value)}}}),t._v(" "),t.errors?n("span",{staticClass:"invalid-feedback"},t._l(t.errors.nama_pengirim,(function(e){return n("div",{key:e},[t._v(t._s(e))])})),0):t._e()]),t._v(" "),n("div",{staticClass:"pembayaran-preview"},[n("img",{attrs:{src:t.buktiPembayaranPreview,alt:"bukti pembayaran"}}),t._v(" "),t.uploading?t._e():n("button",{staticClass:"remove-button",on:{click:t.removeBuktiPembayaran}},[t._v("Hapus")])])]):n("div",[t.errors?n("div",{staticClass:"alert alert-danger alert-dismissible fade show"},[t._l(t.errors.bukti_pembayaran,(function(e){return n("div",{key:e},[t._v(t._s(e))])})),t._v(" "),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])],2):t._e(),t._v(" "),n("div",{staticClass:"pembayaran-box"},[n("input",{staticClass:"pembayaran-input",attrs:{type:"file",accept:"image/x-png,image/jpeg"},on:{change:t.previewBuktiPembayaran}}),t._v(" "),n("div",{staticClass:"text-center"},[t._v("\n                                                    Klik disini untuk mengunggah bukti pembayaran anda.\n                                                ")]),t._v(" "),n("div",{staticClass:"text-center"},[t._v("\n                                                    File yang dapat diunggah: JPG, PNG. Maksimal 2MB.\n                                                ")])])])])])]):2==t.teamData.payment.status_verifikasi?n("div",[n("h4",{staticClass:"text-center"},[t._v("\n                                    Status Pembayaran: "),n("span",{staticClass:"text-success"},[t._v("Pembayaran selesai")])]),t._v(" "),n("div",{staticClass:"w-50 mx-auto mt-4"},[n("p",{staticClass:"text-center"},[t._v("Pengirim: "+t._s(t.teamData.payment.nama_pengirim))]),t._v(" "),n("img",{staticClass:"img img-thumbnail",attrs:{src:"http://dinamik15.test/bukti_pembayaran/"+t.teamData.payment.file_name,alt:"bukti pembayaran"}})])]):t._e()]):n("div",[n("div",{staticClass:"text-center"},[n("h4",[t._v("Status Pembayaran: "),n("span",{staticClass:"text-danger"},[t._v("Belum Bayar")])]),t._v(" "),n("p",[t._v("Silahkan transfer sebesar Rp. "+t._s(t.teamData.competition.price)+" ke rekening:")]),t._v(" "),n("div",{staticClass:"my-3"},[t._v("BNI 0725153454 a.n Musa Misbahuddin")]),t._v(" "),n("p",[t._v("Setelah transfer, upload bukti pembayaran.")])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6 mx-auto"},[t.buktiPembayaran?n("div",{staticClass:"pembayaran-form"},[n("button",{staticClass:"btn btn-primary d-block mx-auto",attrs:{disabled:t.uploading},on:{click:t.uploadPayment}},[t._v("Unggah Bukti Pembayaran")]),t._v(" "),n("div",{staticClass:"form-group mt-2"},[n("label",{attrs:{for:""}},[t._v("Nama Pengirim")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.namaPengirim,expression:"namaPengirim"}],staticClass:"form-control",class:t.errors&&t.errors.nama_pengirim?"is-invalid":"",attrs:{type:"text"},domProps:{value:t.namaPengirim},on:{input:function(e){e.target.composing||(t.namaPengirim=e.target.value)}}}),t._v(" "),t.errors?n("span",{staticClass:"invalid-feedback"},t._l(t.errors.nama_pengirim,(function(e){return n("div",{key:e},[t._v(t._s(e))])})),0):t._e()]),t._v(" "),n("div",{staticClass:"pembayaran-preview"},[n("img",{attrs:{src:t.buktiPembayaranPreview,alt:"bukti pembayaran"}}),t._v(" "),t.uploading?t._e():n("button",{staticClass:"remove-button",on:{click:t.removeBuktiPembayaran}},[t._v("Hapus")])])]):n("div",[t.errors?n("div",{staticClass:"alert alert-danger alert-dismissible fade show"},[t._l(t.errors.bukti_pembayaran,(function(e){return n("div",{key:e},[t._v(t._s(e))])})),t._v(" "),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])],2):t._e(),t._v(" "),n("div",{staticClass:"pembayaran-box"},[n("input",{staticClass:"pembayaran-input",attrs:{type:"file",accept:"image/x-png,image/jpeg"},on:{change:t.previewBuktiPembayaran}}),t._v(" "),n("div",{staticClass:"text-center"},[t._v("\n                                                Klik disini untuk mengunggah bukti pembayaran anda.\n                                            ")]),t._v(" "),n("div",{staticClass:"text-center"},[t._v("\n                                                File yang dapat diunggah: JPG, PNG. Maksimal 2MB.\n                                            ")])])])])])])])],1):t.teamData||t.pageLoading?t._e():n("div",[n("div",{staticClass:"card-title"},[t._v("Pendaftaran Belum Selesai")]),t._v(" "),n("p",{staticClass:"text-center"},[t._v("Silahkan selesaikan pendaftaraan anda terlebih dahulu.")]),t._v(" "),n("div",{staticClass:"d-flex justify-content-center"},[n("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"dashboard"}}},[t._v("Dashboard")])],1)])])],1)])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{DashboardMenu:n(244).default,Card:n(240).default})},239:function(t,e,n){"use strict";n.r(e);var r={name:"LoadingSpinner",props:{title:{type:String}}},l=n(25),component=Object(l.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading"},[e("div",{staticClass:"spinner"}),this._v(" "),this.title?e("div",{staticClass:"title"},[this._v(this._s(this.title))]):this._e()])}),[],!1,null,null,null);e.default=component.exports},240:function(t,e,n){"use strict";n.r(e);n(239);var r={name:"Card",props:{title:{type:String},color:{type:String},loading:{type:Boolean},loading_title:{type:String}}},l=n(25),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card",class:{"card-white":"white"===t.color}},[n("div",{staticClass:"card-body"},[t.title?n("div",{staticClass:"card-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),t._t("default")],2),t._v(" "),t.loading?n("LoadingSpinner",{class:{"loading-white":"white"===t.color},attrs:{title:t.loading_title}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LoadingSpinner:n(239).default})},241:function(t,e,n){"use strict";n.r(e);var r={name:"FormError",props:{message:{type:Array}}},l=n(25),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"invalid-feedback"},t._l(t.message,(function(e){return n("div",{key:e},[t._v(t._s(e))])})),0)}),[],!1,null,null,null);e.default=component.exports},242:function(t,e,n){"use strict";n.r(e);var r=n(241),l={name:"FormInput",props:{name:{type:String},label:{type:String},type:{type:String,required:!0,default:"text"},error:{type:Array},autocomplete:{type:Boolean,default:!1},value:{}},components:{FormError:r.default},methods:{updateValue:function(){this.$emit("input",this.$refs.inputRef.value)}}},o=n(25),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group"},[t.label?n("label",[t._v(t._s(t.label))]):t._e(),t._v(" "),n("input",{ref:"inputRef",staticClass:"form-control",class:{"is-invalid":t.error},attrs:{type:t.type,name:t.name,autocomplete:t.autocomplete?"on":"off"},domProps:{value:t.value},on:{input:function(e){return t.updateValue()}}}),t._v(" "),t.error?n("FormError",{attrs:{message:t.error}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{FormError:n(241).default})},244:function(t,e,n){"use strict";n.r(e);var r={name:"DashboardMenu"},l=n(25),component=Object(l.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dashboard-menu"},[e("ul",[e("li",[e("router-link",{staticClass:"dashboard-menu-link",attrs:{to:{name:"dashboard"}}},[this._v("Profil")])],1),this._v(" "),e("li",[e("router-link",{staticClass:"dashboard-menu-link",attrs:{to:{name:"dashboard.payment"}}},[this._v("Pembayaran")])],1),this._v(" "),e("li",[e("router-link",{staticClass:"dashboard-menu-link",attrs:{to:{name:"dashboard.creation"}}},[this._v("Karya")])],1)])])}),[],!1,null,null,null);e.default=component.exports}}]);