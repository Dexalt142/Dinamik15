(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{151:function(t,e,n){"use strict";n.r(e);n(29);var r=n(10),o=n(244),l=n(240),m=n(242),c=n(30),v={middleware:["authenticated","verified"],head:function(){return{title:"Dashboard - ".concat("Dinamik 15")}},components:{DashboardMenu:o.default,Card:l.default,FormInput:m.default},data:function(){return{pageLoading:!0,teamData:null,competitions:[],registration:{loading:!1,errors:{},imagePreview:[{pas_foto:null,ktp:null},{pas_foto:null,ktp:null},{pas_foto:null,ktp:null}],form_data:{nama_kelompok:null,asal_sekolah:null,nama_pembimbing:null,nip_pembimbing:null,no_telp_pembimbing:null,kompetisi:null,anggota:[{nama:null,nisn:null,no_telp:null,pas_foto:null,ktp:null},{nama:null,nisn:null,no_telp:null,pas_foto:null,ktp:null},{nama:null,nisn:null,no_telp:null,pas_foto:null,ktp:null}]}}}},methods:{fetchTeamData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("team/fetchTeamData");case 2:t.$store.getters["team/getTeamData"]&&(t.teamData=t.$store.getters["team/getTeamData"]),t.pageLoading=!1;case 4:case"end":return e.stop()}}),e)})))()},fetchCompetitions:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get(c.a.API_ENDPOINT.COMPETITION,{loading:!1});case 3:n=e.sent,t.competitions=n.data.competition,t.registration.form_data.kompetisi=0,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))()},previewPasFoto:function(t,e){var n=this,r=t.target;if(r.files&&r.files[0]){var o=new FileReader;this.registration.form_data.anggota[e].pas_foto=r.files[0],o.onload=function(t){n.registration.imagePreview[e].pas_foto=t.target.result},o.readAsDataURL(r.files[0])}},previewKTP:function(t,e){var n=this,r=t.target;if(r.files&&r.files[0]){var o=new FileReader;this.registration.form_data.anggota[e].ktp=r.files[0],o.onload=function(t){n.registration.imagePreview[e].ktp=t.target.result},o.readAsDataURL(r.files[0])}},removePasFoto:function(t){this.registration.form_data.anggota[t].pas_foto=null,this.registration.imagePreview[t].pas_foto=null},removeKTP:function(t){this.registration.form_data.anggota[t].ktp=null,this.registration.imagePreview[t].ktp=null},submitRegistration:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,l,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in t.registration.errors={},t.registration.loading=!0,n=new FormData,t.registration.form_data)if(t.registration.form_data[r])if("anggota"===r)for(o in t.registration.form_data.anggota)for(l in t.registration.form_data.anggota[o])t.registration.form_data.anggota[o][l]&&n.append("anggota[".concat(o,"][").concat(l,"]"),t.registration.form_data.anggota[o][l]);else n.append(r,t.registration.form_data[r]);return e.prev=4,e.next=7,t.$axios.post(c.a.API_ENDPOINT.TEAM.REGISTER,n);case 7:return m=e.sent,console.log(m),e.next=11,t.$store.dispatch("team/fetchTeamData");case 11:t.fetchTeamData(),t.registration.loading=!1,e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(4),e.t0.response&&(422==e.t0.response.status?t.registration.errors=e.t0.response.data.error:console.log(e.t0.response)),t.registration.loading=!1,e.abrupt("return");case 20:case"end":return e.stop()}}),e,null,[[4,15]])})))()}},mounted:function(){this.fetchTeamData(),this.teamData||this.fetchCompetitions()}},d=(n(261),n(25)),component=Object(d.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container main-container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("Card",{attrs:{color:"white"}},[t.pageLoading?n("div",{staticClass:"skeleton-wrapper"},[n("div",{staticClass:"skeleton title"}),t._v(" "),n("div",{staticClass:"skeleton content"}),t._v(" "),n("div",{staticClass:"skeleton content-50"}),t._v(" "),n("div",{staticClass:"skeleton content-75"})]):t._e(),t._v(" "),t.teamData&&!t.pageLoading?n("div",{staticClass:"user-dashboard"},[n("div",{staticClass:"header"},[n("div",{staticClass:"team-name"},[t._v(t._s(t.teamData.name))]),t._v(" "),n("div",{staticClass:"competition-name"},[t._v(t._s(t.teamData.competition.name))])]),t._v(" "),n("DashboardMenu"),t._v(" "),n("div",{staticClass:"content"},[n("div",[n("div",{staticClass:"content-title"},[t._v("Info Kelompok")]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"info-box"},[n("div",{staticClass:"info-title"},[t._v("Nama")]),t._v(" "),n("div",{staticClass:"info-value"},[t._v(t._s(t.teamData.name))])])]),t._v(" "),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"info-box"},[n("div",{staticClass:"info-title"},[t._v("Asal Sekolah")]),t._v(" "),n("div",{staticClass:"info-value"},[t._v(t._s(t.teamData.asal_sekolah))])])]),t._v(" "),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"info-box"},[n("div",{staticClass:"info-title"},[t._v("Kompetisi")]),t._v(" "),n("div",{staticClass:"info-value"},[t._v(t._s(t.teamData.competition.name))])])]),t._v(" "),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"info-box"},[n("div",{staticClass:"info-title"},[t._v("Satus Pembayaran")]),t._v(" "),t.teamData.payment?n("div",{staticClass:"info-value"},["0"==t.teamData.payment.status_verifikasi?n("span",{staticClass:"text-warning"},[t._v("Menunggu verifikasi")]):t._e(),t._v(" "),"1"==t.teamData.payment.status_verifikasi?n("span",{staticClass:"text-danger"},[t._v("Verifikasi gagal")]):t._e(),t._v(" "),"2"==t.teamData.payment.status_verifikasi?n("span",{staticClass:"text-success"},[t._v("Pembayaran selesai")]):t._e()]):n("div",{staticClass:"info-value"},[n("span",{staticClass:"text-danger"},[t._v("Belum bayar")])])])])])]),t._v(" "),n("div",[n("div",{staticClass:"content-title"},[t._v("Info Pembimbing")]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"info-box"},[n("div",{staticClass:"info-title"},[t._v("Nama")]),t._v(" "),n("div",{staticClass:"info-value"},[t._v(t._s(t.teamData.instructor&&t.teamData.instructor.name?t.teamData.instructor.name:"-"))])])]),t._v(" "),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"info-box"},[n("div",{staticClass:"info-title"},[t._v("NIP")]),t._v(" "),n("div",{staticClass:"info-value"},[t._v(t._s(t.teamData.instructor&&t.teamData.instructor.nip?t.teamData.instructor.nip:"-"))])])]),t._v(" "),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"info-box"},[n("div",{staticClass:"info-title"},[t._v("No. Telepon")]),t._v(" "),n("div",{staticClass:"info-value"},[t._v(t._s(t.teamData.instructor&&t.teamData.instructor.no_telp?t.teamData.instructor.no_telp:"-"))])])])])]),t._v(" "),n("div",[n("div",{staticClass:"content-title"},[t._v("Anggota Tim")]),t._v(" "),t._l(t.teamData.members,(function(e,r){return n("div",{key:e.id,staticClass:"row mb-2"},[n("div",{staticClass:"col-md-12"},[n("h4",[t._v("Anggota "+t._s(r+1))])]),t._v(" "),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"info-box"},[n("div",{staticClass:"info-title"},[t._v("Nama")]),t._v(" "),n("div",{staticClass:"info-value"},[t._v(t._s(e.name))])])]),t._v(" "),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"info-box"},[n("div",{staticClass:"info-title"},[t._v("NISN")]),t._v(" "),n("div",{staticClass:"info-value"},[t._v(t._s(e.nisn))])])]),t._v(" "),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"info-box"},[n("div",{staticClass:"info-title"},[t._v("No. Telepon")]),t._v(" "),n("div",{staticClass:"info-value"},[t._v(t._s(e.no_telp))])])]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"info-box"},[n("div",{staticClass:"info-title"},[t._v("Pas Foto")]),t._v(" "),n("div",{staticClass:"info-value"},[n("img",{staticClass:"w-50 d-block mx-auto img img-thumbnail",attrs:{src:"http://dinamik15.test/pas_foto/"+e.pas_foto,alt:"Pas Foto"}})])])]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"info-box"},[n("div",{staticClass:"info-title"},[t._v("KTP")]),t._v(" "),n("div",{staticClass:"info-value"},[n("img",{staticClass:"d-block mx-auto img img-thumbnail",attrs:{src:"http://dinamik15.test/ktp/"+e.ktp,alt:"KTP"}})])])])])}))],2)])],1):t.teamData||t.pageLoading?t._e():n("div",[new Date>=new Date("2020-10-25 23:59:59")?n("div",[n("h3",{staticClass:"text-center"},[t._v("Masa Pendaftaran Telah Selesai")])]):n("form",{on:{submit:function(e){return e.preventDefault(),t.submitRegistration(e)}}},[n("FormInput",{attrs:{error:t.registration.errors.nama_kelompok,name:"nama_kelompok",label:"Nama Kelompok",type:"text"},model:{value:t.registration.form_data.nama_kelompok,callback:function(e){t.$set(t.registration.form_data,"nama_kelompok",e)},expression:"registration.form_data.nama_kelompok"}}),t._v(" "),n("FormInput",{attrs:{error:t.registration.errors.asal_sekolah,name:"asal_sekolah",label:"Asal Sekolah",type:"text"},model:{value:t.registration.form_data.asal_sekolah,callback:function(e){t.$set(t.registration.form_data,"asal_sekolah",e)},expression:"registration.form_data.asal_sekolah"}}),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v("Kompetisi")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.registration.form_data.kompetisi,expression:"registration.form_data.kompetisi"}],staticClass:"form-control",class:t.registration.errors.kompetisi?"is-invalid":"",attrs:{name:"kompetisi"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.registration.form_data,"kompetisi",e.target.multiple?n:n[0])}}},t._l(t.competitions,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0),t._v(" "),n("div",{staticClass:"invalid-feedback"},t._l(t.registration.errors.kompetisi,(function(e){return n("div",{key:e},[t._v(t._s(e))])})),0)]),t._v(" "),n("hr"),t._v(" "),n("FormInput",{attrs:{error:t.registration.errors.nama_pembimbing,name:"nama_pembimbing",label:"Nama Pembimbing",type:"text"},model:{value:t.registration.form_data.nama_pembimbing,callback:function(e){t.$set(t.registration.form_data,"nama_pembimbing",e)},expression:"registration.form_data.nama_pembimbing"}}),t._v(" "),n("FormInput",{attrs:{error:t.registration.errors.nip_pembimbing,name:"nip_pembimbing",label:"NIP Pembimbing",type:"text"},model:{value:t.registration.form_data.nip_pembimbing,callback:function(e){t.$set(t.registration.form_data,"nip_pembimbing",e)},expression:"registration.form_data.nip_pembimbing"}}),t._v(" "),n("FormInput",{attrs:{error:t.registration.errors.no_telp_pembimbing,name:"no_telp_pembimbing",label:"No. Telepon Pembimbing",type:"text"},model:{value:t.registration.form_data.no_telp_pembimbing,callback:function(e){t.$set(t.registration.form_data,"no_telp_pembimbing",e)},expression:"registration.form_data.no_telp_pembimbing"}}),t._v(" "),t.registration.form_data.kompetisi?n("div",t._l("Kelompok"==t.competitions[t.registration.form_data.kompetisi-1].type?3:1,(function(i){return n("div",{key:i},[n("hr"),t._v(" "),n("FormInput",{attrs:{error:t.registration.errors["anggota."+(i-1)+".nama"],label:"Nama Anggota "+i,type:"text"},model:{value:t.registration.form_data.anggota[i-1].nama,callback:function(e){t.$set(t.registration.form_data.anggota[i-1],"nama",e)},expression:"registration.form_data.anggota[i-1].nama"}}),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("FormInput",{attrs:{error:t.registration.errors["anggota."+(i-1)+".nisn"],label:"NISN Anggota "+i,type:"number"},model:{value:t.registration.form_data.anggota[i-1].nisn,callback:function(e){t.$set(t.registration.form_data.anggota[i-1],"nisn",e)},expression:"registration.form_data.anggota[i-1].nisn"}})],1),t._v(" "),n("div",{staticClass:"col-md-6"},[n("FormInput",{attrs:{error:t.registration.errors["anggota."+(i-1)+".no_telp"],label:"No. Telepon Anggota "+i,type:"text"},model:{value:t.registration.form_data.anggota[i-1].no_telp,callback:function(e){t.$set(t.registration.form_data.anggota[i-1],"no_telp",e)},expression:"registration.form_data.anggota[i-1].no_telp"}})],1)]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v("Pas Foto")]),t._v(" "),t.registration.form_data.anggota[i-1].pas_foto?n("div",{staticClass:"pas-foto-wrapper"},[n("img",{staticClass:"pas-foto",attrs:{src:t.registration.imagePreview[i-1].pas_foto,alt:"Pas foto "+i}}),t._v(" "),t.registration.loading?t._e():n("button",{staticClass:"remove-button",attrs:{type:"button"},on:{click:function(e){return t.removePasFoto(i-1)}}},[t._v("Hapus")])]):n("input",{staticClass:"form-control-file",attrs:{type:"file",accept:"image/x-png,image/jpeg"},on:{change:function(e){return t.previewPasFoto(e,i-1)}}}),t._v(" "),t.registration.errors["anggota."+(i-1)+".pas_foto"]?n("div",{staticClass:"image-error mt-2"},t._l(t.registration.errors["anggota."+(i-1)+".pas_foto"],(function(e){return n("div",{key:e,staticClass:"text-danger"},[n("strong",[t._v(t._s(e))])])})),0):t._e()])]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v("KTP")]),t._v(" "),t.registration.form_data.anggota[i-1].ktp?n("div",{staticClass:"ktp-wrapper"},[n("img",{staticClass:"ktp",attrs:{src:t.registration.imagePreview[i-1].ktp,alt:"KTP "+i}}),t._v(" "),t.registration.loading?t._e():n("button",{staticClass:"remove-button",attrs:{type:"button"},on:{click:function(e){return t.removeKTP(i-1)}}},[t._v("Hapus")])]):n("input",{staticClass:"form-control-file",attrs:{type:"file",accept:"image/x-png,image/jpeg"},on:{change:function(e){return t.previewKTP(e,i-1)}}}),t._v(" "),t.registration.errors["anggota."+(i-1)+".ktp"]?n("div",{staticClass:"image-error mt-2"},t._l(t.registration.errors["anggota."+(i-1)+".ktp"],(function(e){return n("div",{key:e,staticClass:"text-danger"},[n("strong",[t._v(t._s(e))])])})),0):t._e()])])])],1)})),0):t._e(),t._v(" "),n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-primary",attrs:{disabled:t.registration.loading}},[t._v("Selesai Daftar")])])],1)])])],1)])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{DashboardMenu:n(244).default,FormInput:n(242).default,Card:n(240).default})},239:function(t,e,n){"use strict";n.r(e);var r={name:"LoadingSpinner",props:{title:{type:String}}},o=n(25),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading"},[e("div",{staticClass:"spinner"}),this._v(" "),this.title?e("div",{staticClass:"title"},[this._v(this._s(this.title))]):this._e()])}),[],!1,null,null,null);e.default=component.exports},240:function(t,e,n){"use strict";n.r(e);n(239);var r={name:"Card",props:{title:{type:String},color:{type:String},loading:{type:Boolean},loading_title:{type:String}}},o=n(25),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card",class:{"card-white":"white"===t.color}},[n("div",{staticClass:"card-body"},[t.title?n("div",{staticClass:"card-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),t._t("default")],2),t._v(" "),t.loading?n("LoadingSpinner",{class:{"loading-white":"white"===t.color},attrs:{title:t.loading_title}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LoadingSpinner:n(239).default})},241:function(t,e,n){"use strict";n.r(e);var r={name:"FormError",props:{message:{type:Array}}},o=n(25),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"invalid-feedback"},t._l(t.message,(function(e){return n("div",{key:e},[t._v(t._s(e))])})),0)}),[],!1,null,null,null);e.default=component.exports},242:function(t,e,n){"use strict";n.r(e);var r=n(241),o={name:"FormInput",props:{name:{type:String},label:{type:String},type:{type:String,required:!0,default:"text"},error:{type:Array},autocomplete:{type:Boolean,default:!1},value:{}},components:{FormError:r.default},methods:{updateValue:function(){this.$emit("input",this.$refs.inputRef.value)}}},l=n(25),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group"},[t.label?n("label",[t._v(t._s(t.label))]):t._e(),t._v(" "),n("input",{ref:"inputRef",staticClass:"form-control",class:{"is-invalid":t.error},attrs:{type:t.type,name:t.name,autocomplete:t.autocomplete?"on":"off"},domProps:{value:t.value},on:{input:function(e){return t.updateValue()}}}),t._v(" "),t.error?n("FormError",{attrs:{message:t.error}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{FormError:n(241).default})},244:function(t,e,n){"use strict";n.r(e);var r={name:"DashboardMenu"},o=n(25),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dashboard-menu"},[e("ul",[e("li",[e("router-link",{staticClass:"dashboard-menu-link",attrs:{to:{name:"dashboard"}}},[this._v("Profil")])],1),this._v(" "),e("li",[e("router-link",{staticClass:"dashboard-menu-link",attrs:{to:{name:"dashboard.payment"}}},[this._v("Pembayaran")])],1),this._v(" "),e("li",[e("router-link",{staticClass:"dashboard-menu-link",attrs:{to:{name:"dashboard.creation"}}},[this._v("Karya")])],1)])])}),[],!1,null,null,null);e.default=component.exports},250:function(t,e,n){},261:function(t,e,n){"use strict";var r=n(250);n.n(r).a}}]);